{
    "name": "Coding Agent Environment",
    "dockerComposeFile": [
        "../docker/docker-compose.yml",
        "docker-compose.devcontainer.yml"
    ],
    "service": "coding-agent",
    "workspaceFolder": "/workspace",

    "remoteUser": "agent",

    "customizations": {
        "vscode": {
            "extensions": [
                "GitHub.vscode-pull-request-github",
                "eamodio.gitlens"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "git.enableCommitSigning": true
            }
        }
    },

    "postCreateCommand": "bash -c 'mkdir -p ~/.ssh && [ -f /home/agent/.ssh-host/id_ed25519.pub ] && cp /home/agent/.ssh-host/id_ed25519.pub ~/.ssh/ 2>/dev/null || true'"
}
