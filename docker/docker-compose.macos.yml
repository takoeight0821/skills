# Docker Compose override for macOS + Docker Desktop
# Usage: docker compose -f docker-compose.yml -f docker-compose.macos.yml up -d

services:
  coding-agent:
    volumes:
      - ../:/workspace:cached
      # macOS Docker Desktop magic path for SSH agent
      - /run/host-services/ssh-auth.sock:/tmp/ssh-agent.sock
      - ${HOME}/.ssh/id_ed25519.pub:/home/agent/.ssh-host/id_ed25519.pub:ro
      - ${HOME}/.ssh/known_hosts:/home/agent/.ssh-host/known_hosts:ro
      - agent-config:/home/agent/.config
