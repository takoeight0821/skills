---
name: Skills Setup
description: Use this skill when the user asks to "setup skills", "install skills", "configure skills sync", "create skills config", "add mise tasks for skills", mentions "takoeight0821/skills", or wants to manage Claude Code skills synchronization. Guides users through initial installation and configuration of the skills management system.
---

# Skills Management Setup

This skill guides through setting up the takoeight0821/skills repository for managing Claude Code agent skills. The system uses mise to synchronize skills between a shared repository and local projects.

## Overview

The skills management system provides:
- **Shared skill repository**: Central storage at `~/.local/share/skills`
- **Global skills**: Sync to `~/.claude/skills` for all projects
- **Project skills**: Sync to `.claude/skills` for specific projects
- **Configuration files**: Customize sync behavior per-project or globally

## Prerequisites

Before setup, ensure these tools are installed:

1. **mise** - Task runner and environment manager
   - Install: https://mise.jdx.dev/getting-started.html

2. **git** - Version control
   - Usually pre-installed on most systems

To verify prerequisites:
```bash
mise --version
git --version
```

## Setup Workflow

### Step 1: Determine Setup Type

Ask the user what type of setup they need using AskUserQuestion:

```
Question: "What type of setup do you need?"
Header: "Setup type"
Options:
  - Full Setup: Clone repository and configure mise globally
  - Configuration Only: Create config files for existing installation
  - Project Setup: Add skills sync to current project only
```

### Step 2: Interactive Configuration

Gather user preferences for sync behavior using AskUserQuestion.

**Sync Mode:**
```
Question: "Configure default sync behavior?"
Header: "Sync mode"
Options:
  - Dry-run: Preview changes without applying (recommended for safety)
  - Auto-apply: Apply changes automatically
```

**Conflict Handling:**
```
Question: "How should file conflicts be handled?"
Header: "Conflicts"
Options:
  - Ask before overwriting: Interactive confirmation for each conflict
  - Force overwrite: Always use shared version without asking
```

**Cleanup Policy:**
```
Question: "Handle skills removed from shared repository?"
Header: "Cleanup"
Options:
  - Keep files: Don't delete removed skills locally
  - Prune: Remove skills that no longer exist in shared repository
```

**Git Tracking (project setup only):**
```
Question: "Git tracking for synced project skills?"
Header: "Git exclude"
Options:
  - Track in git: Include synced skills in version control
  - Exclude from git: Add to .git/exclude to keep out of commits
```

### Step 3: Execute Setup

Based on user selections, perform appropriate setup actions.

**For Full Setup:**

1. Clone the skills repository:
   ```bash
   git clone https://github.com/takoeight0821/skills.git ~/.local/share/skills
   ```

2. Run the installation script:
   ```bash
   ~/.local/share/skills/install.sh
   ```

3. Create global configuration at `~/.config/skills/config` based on user preferences.

**For Configuration Only:**

Create configuration files based on user preferences at:
- Global: `~/.config/skills/config`
- Project: `.claude/.skills.conf`

**For Project Setup:**

1. Create project configuration at `.claude/.skills.conf`
2. Optionally add mise tasks to project's `mise.toml`

### Step 4: Configuration File Generation

Generate config file content based on user selections:

```ini
# Claude Skills sync configuration
# Generated by skills-setup skill

# Sync mode (false = dry-run, true = apply changes)
apply=[true|false based on user selection]

# Conflict handling (true = overwrite without asking)
force=[true|false based on user selection]

# Cleanup policy (true = remove deleted skills)
prune=[true|false based on user selection]

# Git exclude (true = add to .git/exclude)
exclude=[true|false based on user selection]
```

### Step 5: Verify and Show Next Steps

After setup completion, display:

1. **Created files summary**
2. **Available mise commands**
3. **Quick start example**

## Configuration Reference

| Option | Default | Description |
|--------|---------|-------------|
| `apply` | `false` | Execute sync (false = dry-run, preview only) |
| `force` | `false` | Overwrite existing files without confirmation |
| `prune` | `false` | Remove files deleted from shared repository |
| `exclude` | `false` | Add synced files to .git/exclude (project mode only) |

See `references/configuration-reference.md` for detailed configuration options.

## File Locations

| File | Purpose |
|------|---------|
| `~/.local/share/skills/` | Shared skills repository |
| `~/.config/skills/config` | Global configuration |
| `~/.config/mise/config.toml` | Global mise tasks |
| `.claude/.skills.conf` | Project configuration |
| `mise.toml` | Project mise tasks |
| `~/.claude/skills/` | Global skills directory |
| `.claude/skills/` | Project skills directory |

## Priority Order

Configuration is loaded in this order (later overrides earlier):
1. Default values (dry-run, no force, no prune, no exclude)
2. Global config (`~/.config/skills/config`)
3. Project config (`.claude/.skills.conf`)
4. Command line flags (highest priority)

## Available mise Tasks

After setup, these commands are available:

| Command | Description |
|---------|-------------|
| `mise run update-shared-skills` | Update skills repository from remote |
| `mise run sync-skills-global` | Preview global sync (dry-run) |
| `mise run sync-skills-global-apply` | Apply global sync |
| `mise run sync-skills-project` | Preview project sync (dry-run) |
| `mise run sync-skills-project-apply` | Apply project sync |

## Common Workflows

### First-time Setup
1. Run this skill with "Full Setup" option
2. Configure preferred defaults
3. Run `mise run sync-skills-global-apply` to populate global skills

### Adding to Existing Project
1. Run this skill with "Project Setup" option
2. Configure project-specific settings
3. Run `mise run sync-skills-project-apply` to populate project skills

### Updating Skills
```bash
mise run update-shared-skills
mise run sync-skills-global-apply
mise run sync-skills-project-apply
```

## Additional Resources

- **Configuration reference**: `references/configuration-reference.md`
- **Example configs**: `examples/` directory
- **Repository**: https://github.com/takoeight0821/skills
